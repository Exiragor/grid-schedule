<app-popup ng-if="selected && !created && !cancel && !info" on-close="onClose" position="selected.position">
    <div class="schedule-menu">
        <div class="schedule-menu__header" ng-class="{ 'schedule-menu__header-time': selected.time }">
            <span ng-if="!selected.patient" class="glyphicon glyphicon-time" aria-hidden="true"></span>
            <span ng-if="!selected.patient" class="schedule-menu__header-text">Выбран интервал времени</span>
            <span ng-if="selected.patient" class="glyphicon glyphicon-user" aria-hidden="true"></span>
            <span ng-if="selected.patient" class="schedule-menu__header-text">{{ selected.patient }}</span>
        </div>
        <div class="schedule-menu__time">
            <span ng-if="!selected.patient">{{ selected.time.start | date: 'HH:mm' }} - {{ selected.time.end | date: 'HH:mm' }}</span>
        </div>
        <div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': selected.patient }" class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-watch': selected.patient }" ng-click="selected.patient && handleInfo()">Просмотреть запись</span>
                <span></span>
            </div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': !selected.patient || selected.canAdd }" class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-create': !selected.patient || selected.canAdd }" ng-click="(!selected.patient || selected.canAdd) && handleCreate()">Создать запись</span>
                <span></span>
            </div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': selected.patient }" class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-cancel': selected.patient }" ng-click="selected.patient && handleCancel()">Отменить запись</span>
                <span></span>
            </div>
        </div>
    </div>
</app-popup>

<app-popup ng-if="created" on-close="onClose">
    <div class="schedule-menu-created">
        <div class="schedule-menu-created__header">
            Запись создана
        </div>
        <div class="schedule-menu-created__icon">
            <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
        </div>
    </div>
</app-popup>

<app-popup ng-if="cancel">
    <div class="schedule-menu-cancel">
        <div class="schedule-menu-cancel__header">
            <span class="glyphicon glyphicon-info-sign schedule-menu-cancel__icon" aria-hidden="true"></span>
            <span>Отмена записи</span>
        </div>
        <div class="schedule-menu-cancel__content">
            <div>Врач и пациент будут уведомлены об отмене записи</div>
            <div>
                <button type="button" class="schedule-menu-cancel__button" ng-click="handleCancelButton()">Отменить</button>
            </div>
            <div>
                <a href="" class="schedule-menu-cancel__return" ng-click="handleReturn()">Вернуться к расписанию</a>
            </div>
        </div>
    </div>
</app-popup>

<app-popup ng-if="info">
    <div class="schedule-menu-info">
        <div class="schedule-menu-info__close" ng-click="handleInfoClose()">X</div>
        <div class="schedule-menu-info__header">
            <span class="glyphicon glyphicon-list-alt schedule-menu-info__icon" aria-hidden="true"></span>
            <span>{{ selected.patient }}</span>
        </div>
        <div class="schedule-menu-info__content">
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">Дата:</div>
                <div>{{ selected.time.start | date: 'dd.MM.yyyy' }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">Врач:</div>
                <div>{{ info.doctor }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">Кабинет:</div>
                <div>{{ info.address }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">Полис ОМС:</div>
                <div>{{ info.oms }}</div>
            </div>
        </div>
    </div>
</app-popup>
