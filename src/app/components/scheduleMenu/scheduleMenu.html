<app-popup ng-if="selected && !created && !cancel && !info" on-close="onClose" position="selected.position">
    <div class="schedule-menu">
        <div class="schedule-menu__header" ng-class="{ 'schedule-menu__header-time': selected.time }">
            <span class="glyphicon" ng-class="selected.patient ? 'glyphicon-user' : 'glyphicon-time'" aria-hidden="true"></span>
            <span class="schedule-menu__header-text">{{ selected.patient || ('scheduleMenu.intervalSelected' | dictionary) }}</span>
        </div>
        <div class="schedule-menu__time">
            <span ng-if="!selected.patient">{{ selected.time.start | date: 'HH:mm' }} - {{ selected.time.end | date: 'HH:mm' }}</span>
        </div>
        <div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': selected.patient }" class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-watch': selected.patient }" ng-click="selected.patient && handleInfo()">{{ 'scheduleMenu.menu.info' | dictionary }}</span>
                <span></span>
            </div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': !selected.patient || selected.canAdd }" class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-create': !selected.patient || selected.canAdd }" ng-click="(!selected.patient || selected.canAdd) && handleCreate()">{{ 'scheduleMenu.menu.create' | dictionary }}</span>
                <span></span>
            </div>
            <div class="schedule-menu__item">
                <span ng-class="{ 'schedule-menu__item-icon': selected.patient }" class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                <span ng-class="{ 'schedule-menu__item-cancel': selected.patient }" ng-click="selected.patient && handleCancel()">{{ 'scheduleMenu.menu.cancel' | dictionary }}</span>
                <span></span>
            </div>
        </div>
    </div>
</app-popup>

<app-popup ng-if="created" on-close="onClose">
    <div class="schedule-menu-created">
        <div class="schedule-menu-created__header">{{ 'scheduleMenu.created' | dictionary }}</div>
        <div class="schedule-menu-created__icon">
            <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
        </div>
    </div>
</app-popup>

<app-popup ng-if="cancel">
    <div class="schedule-menu-cancel">
        <div class="schedule-menu-cancel__header">
            <span class="glyphicon glyphicon-info-sign schedule-menu-cancel__icon" aria-hidden="true"></span>
            <span>{{ 'scheduleMenu.cancel.title' | dictionary }}</span>
        </div>
        <div class="schedule-menu-cancel__content">
            <div>{{ 'scheduleMenu.cancel.warn' | dictionary }}</div>
            <div>
                <button type="button" class="schedule-menu-cancel__button" ng-click="handleCancelButton()">{{ 'scheduleMenu.cancel.cancel' | dictionary }}</button>
            </div>
            <div>
                <a href="" class="schedule-menu-cancel__return" ng-click="handleReturn()">{{ 'scheduleMenu.cancel.return' | dictionary }}</a>
            </div>
        </div>
    </div>
</app-popup>

<app-popup ng-if="info">
    <div class="schedule-menu-info">
        <div class="schedule-menu-info__close" ng-click="handleInfoClose()">X</div>
        <div class="schedule-menu-info__header">
            <span class="glyphicon glyphicon-list-alt schedule-menu-info__icon" aria-hidden="true"></span>
            <span>{{ selected.patient }}</span>
        </div>
        <div class="schedule-menu-info__content">
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">{{ 'scheduleMenu.info.date' | dictionary }}:</div>
                <div>{{ selected.time.start | date: 'dd.MM.yyyy' }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">{{ 'scheduleMenu.info.doctor' | dictionary }}:</div>
                <div>{{ info.doctor }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">{{ 'scheduleMenu.info.address' | dictionary }}:</div>
                <div>{{ info.address }}</div>
            </div>
            <div class="schedule-menu-info__item">
                <div class="schedule-menu-info__label">{{ 'scheduleMenu.info.oms' | dictionary }}:</div>
                <div>{{ info.oms }}</div>
            </div>
        </div>
    </div>
</app-popup>
